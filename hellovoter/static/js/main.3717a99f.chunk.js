(this.webpackJsonpHelloVoter=this.webpackJsonpHelloVoter||[]).push([[0],{110:function(e,t,n){e.exports=n(144)},144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(25),o=n.n(c),u=n(15),l=n.n(u),i=n(23),s=n(80),f=n(81),p=n(109),m=n(108),b=n(33),h=n(78),d=n(40),E=n(79),v=n(60),O=n(82),g=n.n(O),w=n(101),j=n.n(w),k=n(9),x=n(10),y={alt:"#FF4E00",brand:"#3F51B5",primary:"#0099FF",transparent:"#FFFFFF00",white:"#FFFFFF",black:"#000000",darkGrey:"#333333",grey:"#666666",midGrey:"#979797",lightGrey:"#AAAAAA",dividerGrey:"#CDCDCD",bgGrey:"#F4F4F4",inputBg:"#EFEDED",inputGrey:"#ECECEC",placeholder:"#706F71"};function F(){var e=Object(k.a)(["\n  align-items: center;\n"]);return F=function(){return e},e}function S(){var e=Object(k.a)(["\n  height: 15px;\n"]);return S=function(){return e},e}function G(){var e=Object(k.a)(["\n  flex-direction: row;\n"]);return G=function(){return e},e}function P(){var e=Object(k.a)(["\n  flex: 1;\n"]);return P=function(){return e},e}function A(){var e=Object(k.a)(["\n  flex: 1;\n  padding: 15px;\n  background: ",";\n"]);return A=function(){return e},e}function V(){var e=Object(k.a)(["\n  flex: 1;\n  background: ",";\n"]);return V=function(){return e},e}var C=x.b.SafeAreaView(V(),y.brand),L=x.b.View(A(),y.white),B=x.b.View(P()),T=x.b.View(G()),D=x.b.View(S()),U=x.b.View(F());function z(){var e=Object(k.a)(["\n  color: ",";\n  font-weight: 700;\n"]);return z=function(){return e},e}function H(){var e=Object(k.a)(["\n  color: ",";\n"]);return H=function(){return e},e}function R(){var e=Object(k.a)(["\n  color: ",";\n"]);return R=function(){return e},e}function W(){var e=Object(k.a)(["\n  ","\n  color: ",";\n"]);return W=function(){return e},e}function I(){var e=Object(k.a)(["\n  ","\n  color: ",";\n"]);return I=function(){return e},e}function M(){var e=Object(k.a)(["\n  ","\n"]);return M=function(){return e},e}function Y(){var e=Object(k.a)(["\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: -0.014px;\n  color: ",";\n"]);return Y=function(){return e},e}function N(){var e=Object(k.a)(["\n  font-size: 16px;\n  line-height: 22px;\n  color: ",";\n"]);return N=function(){return e},e}function J(){var e=Object(k.a)(["\n  color: ",";\n"]);return J=function(){return e},e}function $(){var e=Object(k.a)(["\n  color: ",";\n"]);return $=function(){return e},e}function q(){var e=Object(k.a)(["\n  color: ",";\n"]);return q=function(){return e},e}function K(){var e=Object(k.a)(["\n  color: ",";\n  font-size: 15px;\n"]);return K=function(){return e},e}function Q(){var e=Object(k.a)(["\n  color: ",";\n  font-size: 18px;\n"]);return Q=function(){return e},e}function X(){var e=Object(k.a)(["\n  color: ",";\n  font-size: 22px;\n  line-height: 35px;\n  text-align: center;\n"]);return X=function(){return e},e}function Z(){var e=Object(k.a)([""]);return Z=function(){return e},e}function _(){var e=Object(k.a)([""]);return _=function(){return e},e}function ee(){var e=Object(k.a)([""]);return ee=function(){return e},e}function te(){var e=Object(k.a)(["\n  font-size: 14px;\n  line-height: 19px;\n"]);return te=function(){return e},e}var ne=x.b.Text(te()),re=Object(x.b)(ne)(ee()),ae=Object(x.b)(ne)(_()),ce=(Object(x.b)(ne)(Z()),Object(x.b)(ae)(X(),y.darkGrey)),oe=(Object(x.b)(ae)(Q(),y.darkGrey),Object(x.b)(re)(K(),y.grey),Object(x.b)(ne)(q(),y.grey)),ue=(Object(x.b)(re)($(),y.darkGrey),Object(x.b)(ae)(J(),y.darkGrey)),le=(Object(x.b)(ae)(N(),y.darkGrey),Object(x.a)(Y(),y.grey)),ie=(Object(x.b)(ne)(M(),le),Object(x.b)(re)(I(),le,y.darkGrey),Object(x.b)(ae)(W(),le,y.darkGrey),Object(x.b)(ue)(R(),y.green),Object(x.b)(ue)(H(),y.blue),Object(x.b)(ue)(z(),y.white)),se=n(70),fe=n(36),pe=function(){};function me(){var e=Object(k.a)(["\n  background: ",";\n"]);return me=function(){return e},e}function be(){var e=Object(k.a)(["\n  background: ",",\n  padding: 10px;\n  margin: 5px;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n"]);return be=function(){return e},e}var he=x.b.View(be(),y.primary),de=Object(x.b)(he)(me(),y.alt),Ee=function(e){return e.to?"web"===b.a.OS?r.createElement(se.b,{to:e.to,style:{textDecoration:"none"}},r.createElement(ve,e)):r.createElement(se.b,Object.assign({component:ve},e)):r.createElement(ve,e)},ve=function(e){var t=e.alt,n=e.children,a=e.onPress,c=e.title,o=(e.to,t?de:he);return r.createElement(v.a,{onPress:a},r.createElement(o,null,r.createElement(ie,null,c||n)))};function Oe(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return je.apply(this,arguments)}function je(){return(je=Object(i.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem(t,n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){var t=e.refer;t.state.user;return a.a.createElement(C,null,a.a.createElement(L,null,a.a.createElement(ce,null,"Welcome to Hello Voter!"),a.a.createElement(U,null,a.a.createElement(Ee,{title:"Log in with Facebook",onPress:function(){return Fe(t,"fm")}}),a.a.createElement(Ee,{title:"Log in with Google",onPress:function(){return Fe(t,"gm")},alt:!0}),a.a.createElement(D,null),a.a.createElement(d.a,null,"Built with \u2764\ufe0f by Our Voice USA"),a.a.createElement(D,null),a.a.createElement(d.a,null,"Not for any candidate or political party."),a.a.createElement(D,null),a.a.createElement(d.a,null,"Copyright (c) 2020, Our Voice USA. All rights reserved."),a.a.createElement(D,null),a.a.createElement(d.a,{style:{width:350}},"This program is free software; you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version."))))};function Fe(e,t){return Se.apply(this,arguments)}function Se(){return(Se=Object(i.a)(l.a.mark((function e(t,n){var r,a,c,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a="gotv.ourvoiceusa.org",t.setState({loading:!0}),c=!0,a.match(/:8080$/)&&(c=!1),e.prev=5,e.next=8,fetch("http"+(c?"s":"")+"://"+a+"/api/v1/hello",{method:"POST",headers:{Authorization:"Bearer of the one ring","Content-Type":"application/json"}});case 8:if(o=e.sent,u=o.headers.get("x-sm-oauth-url")){e.next=12;break}throw new Error("Missing required header.");case 12:e.t0=o.status,e.next=200===e.t0?15:400===e.t0?17:401===e.t0?18:20;break;case 15:return r=!0,e.abrupt("break",21);case 17:return e.abrupt("break",21);case 18:return"web"===b.a.OS?window.location.href=u+"/"+n+"/?app=hellovoter"+(c?"":"&local=true"):Ge(u+"/"+n),e.abrupt("break",21);case 20:return e.abrupt("break",21);case 21:e.next=25;break;case 23:e.prev=23,e.t1=e.catch(5);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e,null,[[5,23]])})))).apply(this,arguments)}function Ge(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(i.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.match(/^http/)||"ios"!==b.a.OS||n){e.next=5;break}pe.show({url:t,fromBottom:!0}),e.next=7;break;case 5:return e.next=7,h.a.openURL(t);case 7:return e.abrupt("return",!0);case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var Ae=n(3),Ve=function(e){var t=e.refer.state.user;return a.a.createElement(Ae.a,null,a.a.createElement(ce,null,"Welcome, ",t.name),a.a.createElement(D,null),a.a.createElement(U,null,a.a.createElement(oe,null,"You've knocked on 14 doors."),a.a.createElement(oe,null,"You've sent 18 postcards."),a.a.createElement(oe,null,"You've made 35 phone calls.")),a.a.createElement(B,null),a.a.createElement(ce,null,"What do you want to do?"),a.a.createElement(T,null,a.a.createElement(B,null,a.a.createElement(Ee,null,"Phone Banking"),a.a.createElement(Ee,null,"Post Cards")),a.a.createElement(B,null,a.a.createElement(Ee,{to:"/canvassing"},"Canvassing"),a.a.createElement(Ee,null,"Your Reps"))))},Ce=function(e){e.navigation;return a.a.createElement(C,null,a.a.createElement(L,null,a.a.createElement(d.a,null,"Please download the mobile app"),a.a.createElement(Ee,{to:"/",title:"Home"})))},Le=function(e){return a.a.createElement(Ee,Object.assign({to:e.to,onPress:function(){return e.refer.setState({menuOpen:!1})}},e))},Be=function(e){var t=e.refer;return a.a.createElement(C,null,a.a.createElement(L,null,a.a.createElement(Le,{refer:t,to:"/"},"Dashboard"),a.a.createElement(Le,{refer:t,to:"/canvassing"},"Canvassing"),a.a.createElement(Le,{refer:t,to:"/phonebank"},"Phone Banking"),a.a.createElement(Le,{refer:t,to:"/settings"},"Settings"),a.a.createElement(Le,{refer:t,to:"/help"},"Help"),a.a.createElement(Le,{refer:t,to:"/about"},"About"),a.a.createElement(Le,{refer:t,alt:!0,onPress:function(){return t.logout()}},"Logout")))},Te=function(e){var t=e.location;return a.a.createElement(Ae.a,null,a.a.createElement(d.a,null,"OOOPS!!"),a.a.createElement(d.a,null),a.a.createElement(d.a,null,"We can't seem to find the screen you're looking for:"),a.a.createElement(d.a,null),a.a.createElement(d.a,null,t.pathname),a.a.createElement(d.a,null),a.a.createElement(Ee,{to:"/",title:"Back to Dashboard"}))},De=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).componentDidMount=Object(i.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"!==b.a.OS){t.next=18;break}if(t.prev=1,!window.location.href.match(/\/jwt\//)){t.next=11;break}if(n=window.location.href.split("/").pop(),console.log("got token: ",n),!n){t.next=11;break}return t.next=8,e.setToken(n);case 8:return setTimeout((function(){window.location.href="/hellovoter/#/"}),500),setTimeout((function(){window.location.reload()}),1500),t.abrupt("return");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.warn(t.t0);case 16:t.next=20;break;case 18:h.a.addEventListener("url",e.handleOpenURL),h.a.getInitialURL().then((function(t){t&&e.handleOpenURL({url:t})}));case 20:return t.next=22,Oe("jwt");case 22:(n=t.sent)&&e.setToken(n),e.setState({loading:!1});case 25:case"end":return t.stop()}}),t,null,[[1,13]])}))),e.logout=Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ke("jwt"),e.setState({user:null,menuOpen:!1});case 2:case"end":return t.stop()}}),t)}))),e.setToken=function(){var t=Object(i.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=j()(n),t.next=4,we("jwt",n);case 4:e.setState({token:n,user:r}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ke("jwt");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.handleOpenURL=function(){var t=Object(i.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.url,(a=r.match(/jwt=([^#]+)/))&&e.setToken(a[1]),"ios"===b.a.OS&&pe.dismiss(),e.setState({loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={loading:!0,token:null,user:null,menuOpen:!1},e}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.menuOpen,c=t.user,o=a.a.createElement(Be,{refer:this});return n?a.a.createElement(C,null,a.a.createElement(L,null,a.a.createElement(U,null,a.a.createElement(d.a,null,"Loading HelloVoter..."),a.a.createElement(D,null),a.a.createElement(E.a,{size:"large"})))):c?a.a.createElement(se.a,null,a.a.createElement(g.a,{menu:o,openMenuOffset:200,isOpen:r,bounceBackOnOverdraw:!1},a.a.createElement(C,null,a.a.createElement(L,null,a.a.createElement(v.a,{onPress:function(){return e.setState({menuOpen:!0})}},a.a.createElement(d.a,null,"MENU")),a.a.createElement(fe.c,null,a.a.createElement(fe.a,{exact:!0,path:"/",render:function(){return a.a.createElement(Ve,{refer:e})}}),a.a.createElement(fe.a,{path:"/canvassing",render:function(){return a.a.createElement(Ce,{refer:e})}}),a.a.createElement(fe.a,{component:Te})))))):a.a.createElement(se.a,null,a.a.createElement(fe.a,{path:"/",render:function(){return a.a.createElement(ye,{refer:e})}}))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[110,1,2]]]);
//# sourceMappingURL=main.3717a99f.chunk.js.map