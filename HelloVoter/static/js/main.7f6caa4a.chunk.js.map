{"version":3,"sources":["components/Dashboard.js","components/Canvassers.js","components/Teams.js","components/Turf.js","components/Questions.js","components/Forms.js","components/Map.js","components/ImportData.js","components/Jwt.js","App.js","serviceWorker.js","index.js"],"names":["App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","asyncToGenerator","regenerator_default","a","mark","_callee","data","res","wrap","_context","prev","next","fetch","server","headers","Authorization","jwt","Content-Type","sent","json","t0","console","warn","setState","loading","stop","state","react_default","createElement","JSON","stringify","Component","TimeAgo","locale","en","canvassers","_this2","HashRouter","Route","exact","path","render","map","c","Canvassers_Canvasser","key","id","canvasser","match","params","Canvasser","timeAgo","name","Link","to","admin","index_es","icon","faCrown","color","email","format","Date","last_seen","doCreateTeam","addTeamForm","getValue","abrupt","method","body","_callee2","teams","_context2","formServerItems","t","struct","String","formServerOptions","fields","label","error","Teams_Team","team","main_default","form","Form","ref","type","options","onChange","e","onChangeTeam","value","onClick","Team","turf","Turf_Turf","Turf","google_maps_key","style","height","width","google_map_react_lib_default","bootstrapURLKeys","defaultCenter","lat","lng","defaultZoom","Map_Pin","Pin","location","pathname","split","pop","jwt_decode","sessionStorage","setItem","es_Route","Redirect","doSave","ret","refs","mainForm","ack","singHello","flag","msg","text","cancelable","_ref2","longitude","latitude","status","window","href","ready","dbx","user","t1","_x","apply","arguments","getItem","subtype","Boolean","s","help","bind","assertThisInitialized","connectForm","removeItem","_this$state","reload","App_Root","App_Sidebar","margin","getName","App_SidebarItem","App_Icon","faColumns","faUser","faUsers","faMap","faBalanceScale","faClipboard","faGlobe","faFileUpload","faSignOutAlt","_logout","App_Main","Dashboard_App","Canvassers_App","Teams_App","Turf_App","Questions_App","Forms_App","Map_App","ImportData_App","component","Jwt","align","Root","assign","display","Sidebar","overlow","background","SidebarItem","whiteSpace","textOverflow","overflow","padding","Main","flex","Icon","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.7f6caa4a.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n    };\n  }\n\n  componentDidMount = async () => {\n    let data = {};\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/dashboard', {\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n      });\n\n      data = await res.json();\n    } catch (e) {\n      console.warn(e);\n    }\n\n    this.setState({data: data, loading: false});\n  }\n\n  render() {\n    if (this.state.loading) return (<div>loading</div>);\n\n    return (\n      <div>\n        {JSON.stringify(this.state.data)}\n      </div>\n    );\n  }\n}\n\n","import React, { Component } from 'react';\n\nimport { HashRouter as Router, Route, Link } from 'react-router-dom';\nimport TimeAgo from 'javascript-time-ago';\nimport en from 'javascript-time-ago/locale/en';\n\nimport { FontAwesomeIcon as Icon } from '@fortawesome/react-fontawesome';\nimport { faCrown } from '@fortawesome/free-solid-svg-icons';\n\nTimeAgo.locale(en);\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      canvassers: [],\n    };\n\n  }\n\n  componentDidMount = async () => {\n    let canvassers = [];\n\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/canvasser/list', {\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n      });\n      let data = await res.json();\n      canvassers = (data.data?data.data:[]);\n    } catch (e) {\n      console.warn(e);\n    }\n\n    this.setState({loading: false, canvassers: canvassers});\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <Route exact={true} path=\"/canvassers/\" render={() => {\n            return (this.state.loading?'loading':this.state.canvassers.map(c => <Canvasser key={c.id} canvasser={c} />))\n          }} />\n          <Route path=\"/canvassers/:id\" render={(props) => {\n            return (<div>{props.match.params.id}</div>)\n          }} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst Canvasser = (props) => {\n  const timeAgo = new TimeAgo('en-US')\n  return (\n    <div>\n      Name: {props.canvasser.name} (<Link to={'/canvassers/'+props.canvasser.id}>view profile</Link>) {(props.canvasser.admin?<Icon icon={faCrown} color=\"gold\" />:'')}<br />\n      Email: {props.canvasser.email} <br />\n      Last Login: {timeAgo.format(new Date(props.canvasser.last_seen-30000))} <br />\n    <hr />\n    </div>\n  );\n}\n\n","import React, { Component } from 'react';\n\nimport { HashRouter as Router, Route, Link } from 'react-router-dom';\nimport t from 'tcomb-form';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n    };\n\n    this.formServerItems = t.struct({\n      name: t.String,\n    });\n\n    this.formServerOptions = {\n      fields: {\n        server: {\n          label: 'Team Name',\n          error: 'You must enter a team name.',\n        },\n      },\n    };\n\n  }\n\n  onChangeTeam(addTeamForm) {\n    this.setState({addTeamForm})\n  }\n\n  doCreateTeam = async () => {\n\n    let json = this.addTeamForm.getValue();\n    if (json === null) return;\n\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/team/create', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({name: json.name}),\n      });\n\n      console.warn(res);\n    } catch (e) {\n      console.warn(e);\n    }\n\n  }\n\n\n  componentDidMount = async () => {\n    let teams = {};\n\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/team/list', {\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n      });\n      teams = await res.json();\n    } catch (e) {\n      console.warn(e);\n    }\n\n    this.setState({loading: false, teams: teams.data});\n  }\n\n  render() {\n    return (\n      <Router>\n        <div>\n          <Route exact={true} path=\"/teams/\" render={() => (\n            <div>\n              {(this.state.loading?'loading':this.state.teams.map(t => <Team key={t.name} team={t} />))}\n              <Link to={'/teams/add'}><button>Add Team</button></Link>\n            </div>\n          )} />\n          <Route exact={true} path=\"/teams/add\" render={() => (\n            <div>\n              <t.form.Form\n                ref={(ref) => this.addTeamForm = ref}\n                type={this.formServerItems}\n                options={this.formServerOptions}\n                onChange={(e) => this.onChangeTeam(e)}\n                value={this.state.addTeamForm}\n              />\n              <button onClick={() => this.doCreateTeam()}>\n                Submit\n              </button>\n            </div>\n          )} />\n          <Route path=\"/teams/edit\" render={() => (\n            <div>\n              LIST / EDIT / etc\n            </div>\n          )} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst Team = (props) => (\n  <div>\n    Name: {props.team.name} (<Link to={'/teams/edit/'+props.team.name}>edit</Link>)<br />\n  <hr />\n  </div>\n)\n\n","import React, { Component } from 'react';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n    };\n\n  }\n\n  componentDidMount = async () => {\n    let turf = {};\n\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/turf/list', {\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n      });\n      turf = await res.json();\n    } catch (e) {\n      console.warn(e);\n    }\n\n    this.setState({loading: false, turf: turf.data});\n  }\n\n  render() {\n    return (\n      <div>\n        {(this.state.loading?'loading':this.state.turf.map(t => <Turf key={t.name} turf={t} />))}\n      </div>);\n  }\n}\n\nconst Turf = (props) => (\n  <div>\n    Name: {props.turf.name} <br />\n  <hr />\n  </div>\n)\n\n","import React, { Component } from 'react';\n\nexport default class App extends Component {\n  render() {\n    return (<div>Questions Component</div>);\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class App extends Component {\n  render() {\n    return (<div>Forms Component</div>);\n  }\n}\n","import React, { Component } from 'react';\n\nimport GoogleMaps from 'google-map-react';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      google_maps_key: null,\n    };\n  }\n\n  componentDidMount = async () => {\n    let key;\n    try {\n      let res = await fetch('https://'+this.props.server+'/canvass/v1/google_maps_key', {\n        headers: {\n          'Authorization': 'Bearer '+(this.props.jwt?this.props.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n      });\n\n      let body = await res.json();\n      key = body.google_maps_key;\n    } catch (e) {\n      console.warn(e);\n    }\n\n    this.setState({google_maps_key: (key?{key: key}:null), loading: false});\n  }\n\n  render() {\n    if (this.state.loading) return (<div>loading</div>);\n\n    return (\n      <div style={{ height: '100vh', width: '100%' }}>\n        <GoogleMaps\n          bootstrapURLKeys={this.state.google_maps_key}\n          defaultCenter={{lat: 33.9208231, lng: -118.3281370}}\n          defaultZoom={11}\n        >\n          <Pin\n            lat={59.955413}\n            lng={30.337844}\n          />\n        </GoogleMaps>\n      </div>\n    );\n  }\n}\n\nconst Pin = (props) => (\n  <div>\n    FOOBAR\n  </div>\n)\n\n","import React, { Component } from 'react';\n\n/*\nimport t from 'tcomb-form';\n\nconst HEADER = t.enums({\n  'address1': 'Address 1',\n  'address2': 'Address 2',\n  'city': 'City',\n  'state': 'State',\n  'zip': 'Zip Code',\n}, 'HEADER');\n*/\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>Import Data</div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport { Route, Redirect } from 'react-router'\nimport jwt_decode from 'jwt-decode';\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    let jwt;\n\n    try {\n      jwt = this.props.location.pathname.split('/').pop();\n      jwt_decode(jwt);\n    } catch (e) {\n      console.warn(\"Unable to extract jwt from URI: \"+e);\n      jwt = 'error';\n    }\n\n    this.state = {jwt: jwt};\n\n    sessionStorage.setItem('jwt', jwt);\n  }\n\n  render() {\n    if (this.state.jwt === 'error') return (<div>There was an error parsing the jwt</div>);\n\n    return (\n      <Route render={() => (\n        <Redirect to=\"/\" />\n      )} />\n    )\n  }\n}\n","import React, { Component } from 'react';\n\nimport { HashRouter as Router, Route, Link } from 'react-router-dom';\nimport t from 'tcomb-form';\nimport jwt_decode from 'jwt-decode';\n\nimport Dashboard from './components/Dashboard';\nimport Canvassers from './components/Canvassers';\nimport Teams from './components/Teams';\nimport Turf from './components/Turf';\nimport Questions from './components/Questions';\nimport Forms from './components/Forms';\nimport Map from './components/Map';\nimport ImportData from './components/ImportData';\nimport Jwt from './components/Jwt';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faColumns, faUser, faUsers, faMap, faGlobe, faClipboard, faBalanceScale, faFileUpload, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      jwt: sessionStorage.getItem('jwt'),\n      server: sessionStorage.getItem('server'),\n    };\n\n    this.formServerItems = t.struct({\n      server: t.String,\n      ack: t.subtype(t.Boolean, function (s) { return s }), // boolean that fails validation if not selected\n    });\n\n    this.formServerOptions = {\n      fields: {\n        server: {\n          label: 'Server Domain Name',\n          help: 'Enter the domain name of the server you wish to connect to.',\n          error: 'You must enter a domain name.',\n        },\n        ack: {\n          label: 'Terms of Use',\n          help: 'By checking this you acknowledge that the server to which you are connecting is not affiliated with Our Voice USA and the data you send and receive is governed by that server\\'s terms of use.',\n          error: 'You must acknowledge the terms of use.',\n        },\n      },\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.doSave = this.doSave.bind(this);\n  }\n\n  onChange(connectForm) {\n    this.setState({connectForm})\n  }\n\n  getName() {\n    let name;\n\n    try {\n      name = jwt_decode(this.state.jwt).name;\n    } catch (e) {\n      console.warn(e);\n    }\n\n    return name;\n  }\n\n  _logout() {\n    sessionStorage.removeItem('server');\n    sessionStorage.removeItem('jwt');\n    this.setState({server: null, jwt: null});\n  }\n\n  doSave = async () => {\n\n    let json = this.refs.mainForm.getValue();\n    if (json === null) return;\n\n    if (json.ack !== true) return;\n\n    let ret = await this.singHello(json.server);\n\n    if (ret.flag !== true) console.warn((ret.error?'Error':'Connection Successful'), ret.msg, [{text: 'OK'}], { cancelable: false });\n    else console.warn(ret)\n\n  }\n\n  singHello = async (server) => {\n    let res;\n\n    sessionStorage.setItem('server', server);\n\n    try {\n      res = await fetch('https://'+server+'/canvass/v1/hello', {\n        method: 'POST',\n        headers: {\n          'Authorization': 'Bearer '+(this.state.jwt?this.state.jwt:\"of the one ring\"),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({longitude: -118, latitude: 40}),\n      });\n\n      switch (res.status) {\n        case 200:\n          break; // valid - break to proceed\n        case 400:\n          return {error: true, msg: \"The server didn't understand the request sent from this device.\"};\n        case 401:\n          window.location.href = \"https://\"+server+\"/auth/gm?app=HelloVoter\";\n          return {error: false, flag: true};\n        case 403:\n          return {error: true, msg: \"We're sorry, but your request to canvass with this server has been rejected.\"};\n        default:\n          return {error: true, msg: \"Unknown error connecting to server.\"};\n      }\n\n      let body = await res.json();\n\n      console.warn(body);\n\n      this.setState({server: server});\n      sessionStorage.setItem('server', server);\n\n      if (body.data.ready !== true) return {error: false, msg: \"The server said: \"+body.msg};\n      else {\n        // TODO: use form data from body.data.forms[0] and save it in the forms_local cache\n        // TODO: if there's more than one form in body.data.forms - don't navigate\n        console.warn({server: server, dbx: null, user: this.state.user});\n        return {error: false, flag: true};\n      }\n    } catch (e) {\n      console.warn(\"singHello: \"+e);\n      return {error: true, msg: \"Unable to make a connection to target server\"};\n    }\n\n  }\n\n  render() {\n    const { server, jwt } = this.state;\n\n    if (!server) {\n      return (\n        <div align=\"center\">\n          <h3>HelloVoter</h3>\n          <t.form.Form\n            ref=\"mainForm\"\n            type={this.formServerItems}\n            options={this.formServerOptions}\n            onChange={this.onChange}\n            value={this.state.connectForm}\n          />\n          <button onClick={this.doSave}>\n            Connect to Server\n          </button>\n        </div>\n      );\n    }\n\n    // TODO: this is a hack to load the new session from the /jwt/ redirect back to here. Need a cleaner way\n    if (!jwt) window.location.reload();\n\n    return (\n    <Router>\n      <Root>\n        <Sidebar>\n          <div style={{margin: 10}}>Welcome, {this.getName()}!</div>\n          <SidebarItem><Icon icon={faColumns} /> <Link to={'/'}>Dashboard</Link></SidebarItem>\n          <SidebarItem><Icon icon={faUser} /> <Link to={'/canvassers/'}>Canvassers</Link></SidebarItem>\n          <SidebarItem><Icon icon={faUsers} /> <Link to={'/teams/'}>Teams</Link></SidebarItem>\n          <SidebarItem><Icon icon={faMap} /> <Link to={'/turf/'}>Turf</Link></SidebarItem>\n          <SidebarItem><Icon icon={faBalanceScale} /> <Link to={'/questions/'}>Questions</Link></SidebarItem>\n          <SidebarItem><Icon icon={faClipboard} /> <Link to={'/forms/'}>Forms</Link></SidebarItem>\n          <SidebarItem><Icon icon={faGlobe} /> <Link to={'/map/'}>Map</Link></SidebarItem>\n          <SidebarItem><Icon icon={faFileUpload} /> <Link to={'/import/'}>Import Data</Link></SidebarItem>\n          <SidebarItem><Icon icon={faSignOutAlt} /> <button onClick={() => this._logout()}>Logout</button></SidebarItem>\n        </Sidebar>\n        <Main>\n          <Route exact={true} path=\"/\" render={() => <Dashboard server={server} jwt={jwt} />} />\n          <Route path=\"/canvassers/\" render={() => <Canvassers server={server} jwt={jwt} />} />\n          <Route path=\"/teams/\" render={() => <Teams server={server} jwt={jwt} />} />\n          <Route path=\"/turf/\" render={() => <Turf server={server} jwt={jwt} />} />\n          <Route path=\"/questions/\" render={() => <Questions server={server} jwt={jwt} />} />\n          <Route path=\"/forms/\" render={() => <Forms server={server} jwt={jwt} />} />\n          <Route path=\"/map/\" render={() => <Map server={server} jwt={jwt} />} />\n          <Route path=\"/import/\" render={() => <ImportData server={server} jwt={jwt} />} />\n          <Route path=\"/jwt/\" component={Jwt} />\n        </Main>\n      </Root>\n    </Router>\n    );\n  }\n}\n\nconst Root = (props) => (\n  <div style={{display: 'flex'}} {...props}/>\n)\n\nconst Sidebar = (props) => (\n  <div style={{width: '22vw', height: '100vh', overlow: 'auto', background: '#eee'}} {...props}/>\n)\n\nconst SidebarItem = (props) => (\n  <div style={{whiteSpace: 'nowrap', textOverflow: 'ellipsis', overflow: 'hidden', padding: '5px 10px'}} {...props}/>\n)\n\nconst Main = (props) => (\n  <div style={{flex: 1, height: '100vh', overflow: 'auto'}}>\n    <div style={{padding: '20px'}} {...props}/>\n  </div>\n)\n\nconst Icon = (props) => (\n  <FontAwesomeIcon style={{width: 25}} icon={props.icon} />\n)\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}